<div class="container  border rounded bg-white shadow-sm "style="margin-left: 180px;">
  <div class="pt-4 px-2">
    <h4 class="fw-bold text-primary">API Data Table</h4>
  </div>
  <div class="row g-3 align-items-end mb-4">
    <div class="col-md-3">
      <label class="form-label fw-semibold">Search By</label>
      <select
        class="form-select"
        [(ngModel)]="searchField"
        (change)="onSearchChange()"
      >
        <option value="name">Name</option>
        <option value="email">Email</option>
        <option value="phone">Phone</option>
        <option value="position">Position</option>
      </select>
    </div>

    <div class="col-md-4">
      <label class="form-label fw-semibold">Search</label>
      <input
        type="text"
        class="form-control"
        placeholder="Enter keyword"
        [(ngModel)]="searchText"
        (input)="onSearchChange()"
      />
    </div>

    <div class="col-md-3">
      <label class="form-label fw-semibold">Sort By</label>
      <select
        class="form-select"
        [(ngModel)]="sortField"
        (change)="onSearchChange()"
      >
        <option value="name">Name</option>
        <option value="email">Email</option>
        <option value="phone">Phone</option>
        <option value="position">Position</option>
      </select>
    </div>

    <div class="col-md-2 text-end">
      <label class="form-label d-block fw-semibold">Direction</label>
      <button
        class="btn btn-outline-secondary w-100"
        (click)="toggleSortDirection()"
      >
        <i
          class="bi"
          [ngClass]="
            sortDirection === 'asc' ? 'bi-sort-alpha-down' : 'bi-sort-alpha-up'
          "
        ></i>
        {{ sortDirection === "asc" ? "A-Z" : "Z-A" }}
      </button>
    </div>
  </div>

  <div class="row bg-light p-2 border rounded-top fw-semibold text-secondary">
    <div class="col-md-3">Name</div>
    <div class="col-md-3">Email</div>
    <div class="col-md-2">Phone</div>
    <div class="col-md-2">Position</div>
    <div class="col-md-2 text-end">Actions</div>
  </div>

  <div
    *ngFor="let user of displayedEmployees"
    class="row border border-top-0 py-3 align-items-center"
  >
    <div class="col-md-3 fw-bold text-truncate">{{ user.name }}</div>
    <div class="col-md-3">{{ user.email }}</div>
    <div class="col-md-2">{{ user.phone }}</div>
    <div class="col-md-2 text-wrap small">{{ user.position || "N/A" }}</div>
    <div class="col-md-2 text-end">
      <button class="btn btn-outline-danger btn-sm" (click)="deleteUser(user)">
        <i class="bi bi-trash"></i>
      </button>
    </div>
  </div>

  <div class="d-flex justify-content-between align-items-center mt-4">
    <div class="text-muted small">
      Showing {{ getStartIndex() + 1 }} â€“ {{ getEndIndex() }} of
      {{ filteredUsers.length }} 
    </div>

    <div class="d-flex gap-2">
      <button
        class="btn btn-outline-primary btn-sm"
        (click)="prevPage()"
        [disabled]="currentPage === 1"
      >
        <i class="bi bi-chevron-left"></i>
      </button>
      <button
        class="btn btn-outline-primary btn-sm"
        (click)="nextPage()"
        [disabled]="getEndIndex() >= filteredUsers.length"
      >
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>
</div>
